<html>
<head>
<title>Cumulative hypsometric curve (DEM-Hydro Processing script)</title>
<meta name="keywords" content="Cumulative hypsometric curve, Hypsometric curve, DEM Hydro-Processing, Hydrologic Operations, DEM">
<meta name="Generator" content="ILWIS Script Form">
<link rel=stylesheet type="text/css" href="../ilwis.css">
<!-- COPY of ILWISxx\Scripts\Hydro-DEM\cumulative_hypsometric_curve.htm -->
<SCRIPT TYPE="text/javascript"> 
 <!-- 
 function popup(mylink, windowname) 
 { 
 if (! window.focus)return true; 
 var href; 
 if (typeof(mylink) == 'string') 
    href=mylink; 
 else 
   href=mylink.href; 
window.open(href, windowname, 'width=500,height=400,scrollbars=yes'); 

return false;
}
//-->
</SCRIPT>
</head>
<body text="#000000" bgcolor="#FFFFFF">

<h1 class=firstline>DEM-Hydro Processing scripts</h1>

<h1 class=secondline>Cumulative hypsometric curve</h1>

<!--<hr>-->

<p class="defnewpar">The Cumulative hypsometric curve script crosses a merged catchments map with your DEM. The script will ask for the ID of a single catchment that you wish to use in the Cross. In the resulting cross table, cumulative values are calculated for the Area of subsequent height values in pixels and percentages. The output is stored in columns: <span class="courier">cum_area</span> and <span class="courier">cum_percent</span>. </p>

<p class="defnewpar">With the output cross table and its newly calculated columns, you can create graphs: </p>

<ul>

<li>use column <span class="courier">cum_area</span> or column <span class="courier">cum_percent</span> on the X-axis, </li>

<li>use the column with the height values on the Y-axis.</li>

</ul>

<p>This will give you a so-called cumulative hypsometric curve. </p>

<p class=diakopje>Dialog box options:</p>
<table cellspacing=0>
<tr>
<td valign="top" width="168"><p class=diabox>Merged catchment map:</p></td>
<td valign="top"><p class=diabox>Select a raster map that is the result of a previous <a href="..//ilwisapp/popup/catchment_merge_popup.htm" onClick="return popup(this, 'notes')" >Catchment Merge</a> operation. </p></td>
</tr>
<tr>
<td valign="top"><p class=diabox>Selected catchment ID</b>:</p></td>
<td valign="top"><p class=diabox>Type the ID of a catchment with which you wish to perform the cross. </p></td>
</tr>
<tr>
<td valign="top"><p class=diabox>DEM:</p></td>
<td valign="top"><p class=diabox>Select a raster map with height values, i.e. your DEM. </p></td>
</tr>
<tr>
<td valign="top"><p class=diabox>Output table:</p></td>
<td valign="top"><p class=diabox>Type a name for the output cross table that will contain the cumulative values. </p></td>
</tr>
</table>

<p class="kopje">Short explanation of the calculations by the script: </p>

<ol>
<li class="ls01be">A temporary (bool) map is created which only contains the selected catchment. </li>
<li class="ls01be">This map is crossed with your DEM. </li>

<li class="ls01be">In the cross table, first a temporary cumulative area column is calculated in number of pixels: <br>

	<p class="tipemptylinehalf">&nbsp;</p>
	<p class="tiptext">output column <span class="courier">cum_area</span> = <span class="courier">ColumnCumulative</span>(NPix)</p>
	<p class="tipemptylinehalf">&nbsp;</p>

	<p class="linespacing01before">The script calculates with NPix, so that even if you use a map with geographic LatLon coordinates, answers will be obtained. </p>

<li class="ls01be">Next, a temporary column is calculated to obtain areas in percentages: </li>

	<p class="tipemptylinehalf">&nbsp;</p>
	<p class="tiptext"><i>temp_col</i> = (NPix/(SUM(NPix)))*100</p>
	<p class="tipemptylinehalf">&nbsp;</p>

<li class="ls01be">Subsequently, in the cross table, column <span class="courier">cum_percent</span> is calculated as: </li>

	<p class="tipemptylinehalf">&nbsp;</p>
	<p class="tiptext"> output column <span class="courier">cum_percent</span> = <span class="courier">ColumnCumulative</span>(<i>temp_col</i>)</p>
	<p class="tipemptylinehalf">&nbsp;</p>

<li class="ls01be">Possible cumulative values in percentages that are greater than 100 are rounded to 100. </li>

<li class="ls01be">Finally, the temporary map and the temporary column are removed, and the output cross table is displayed. </li>

</ol>

<p class="kopje">Example:</p>

<p>Below you find two graphs that are created from the output cross table of this script: </p>
<ul>
<li>cumulative areas in nr. of pixels against height values, and </li>
<li>cumulative areas in percentages against height values. </li>
</ul>

<table cellspacing="0">
<tr>
<td valign="top"><img src="../images/hydro_cum_hyps1.gif" width="325" height="286"></td>
<td valign="top"><img src="../images/hydro_cum_hyps2.gif" width="325" height="286"></td>
</tr>
</table>

<p class=seealso>See also:</p>
<p class="seealsolinks"><a href="../ilwismen/cumulative_column.htm">Table window : Cumulative column</a></p>
<p class="seealsolinks"><a href="../ilwis/calc_cum.htm">Map and Table calculation : CUM function</a></p>
<p class="seealsolinks"><a href="../ilwisapp/cross_functionality.htm">Cross : functionality</a></p>
<p class=seealsolinks><a href="../ilwis/script_editor_functionality.htm">Script editor : functionality</a></p>
<p class="seealsolinks"><a href="../ilwis/ilwis_objects_scripts.htm">ILWIS objects : scripts</a></p>
<p class=seealsolinks><a href="../ilwis/how_to_use_parameters_in_scripts.htm">How to use parameters in scripts</a></p>
<p class=seealsolinks><a href="http://www.52n.org/index.php?option=com_projects&task=showProject&id=30&Itemid=127" target="_blank">ILWIS on the web (52 North)</a></p>
</body