<html>

<head>
<title>Epipolar Stereo Pair (operation)</title>
<meta name="author" content="Petra Budde, Raymond Nijmeijer">
<meta name="keywords" content="Stereo pairs, Epipolar stereo pair, Stereo pairs (create), Epipolar stereo pair (create), Image Processing, Create ...">
<link rel=stylesheet type="text/css" href="../ilwis.css">
<SCRIPT TYPE="text/javascript"> 
 <!-- 
 function popup(mylink, windowname) 
 { 
 if (! window.focus)return true; 
 var href; 
 if (typeof(mylink) == 'string') 
    href=mylink; 
 else 
   href=mylink.href; 
window.open(href, windowname, 'width=500,height=400,scrollbars=yes'); 

return false;
}
//-->
</SCRIPT>
</head>
<body text="#000000" bgcolor="#FFFFFF">

<h1 class=only1>Epipolar Stereo Pair</h1>

<!--<hr>-->

<p class=defnewpar>With the Epipolar Stereo Pair operation, you will create a <a href="..//ilwis/popup/objects_stereopair_popup.htm" onClick="return popup(this, 'notes')" >stereo pair</a> from two scanned aerial photographs with overlap. </p>

<p class=defnewpar>In short, the process is as follows: </p>

<ul>

<li>Specify the left input map and the right input map; one or both of the input maps may already have a georeference. </li>

<li>Specify the output name of the stereo pair that will be created. </li>

</ul>

<p class=defnewpar>Then, in the <a href="../ilwis/epipolar_stereopair_creation_window.htm">Epipolar Stereo Pair - Creation window</a>: </p>

<ul>

<li>Mark on each photograph two, three, or four fiducial marks. </li>

<li>Mark the calculated principal point of the left photograph, on the right photograph (transferred principal point). </li>

<li>Mark the principal point of the right photograph, on the left photograph (transferred principal point). </li>

<li>In case of scale differences between the two input maps, specify one or two scaling points in both photographs. </li>

</ul>

<p class=defnewpar>When you close the Epipolar Stereo Pair - Creation window with the <span class=arial>Exit and Show</span> button <img src="../images/stereo_showcalc.gif" align=bottom width="22" height="22">, both input photographs will be resampled to output maps, i.e. the stereo pair is calculated. Rotation differences and possible scale differences between the photographs will be removed. </p>

<p class=defnewpar>A calculated stereo pair can be viewed: </p> 

<ul>

        <li>in a <a href="..//ilwisapp/popup/stereoscope_popup.htm" onClick="return popup(this, 'notes')" >stereoscope</a> window, while using a stereoscope, and </li>

        <li>as an <a href="..//ilwisapp/popup/anaglyph_popup.htm" onClick="return popup(this, 'notes')" >anaglyph</a> in a map window, while using red-green or red-blue glasses. </li>

</ul>

<p class=kopje>To start the Epipolar Stereo Pair operation: </p>

<ul>

<li>	from the <a href="../ilwis/main_window_menu_commands.htm">Operations menu</a> of the Main window, choose <span class=arial>Image Processing, Epipolar Stereo Pair</span>, or </li>

<li>	in the <a href="..//ilwis/popup/operation_tree_list_popup.htm" onClick="return popup(this, 'notes')" >Operation-list</a>, double-click the <span class=arial>Epipolar Stereo Pair</span> item, or </li>

<li>	in the <a href="..//ilwis/popup/operation_tree_list_popup.htm" onClick="return popup(this, 'notes')" >Operation-tree</a>, expand the <span class=arial>Image Processing</span> item and double-click the <span class=arial>Epipolar Stereo Pair</span> item. </li>

</ul>

<p class=kopje>Input maps and requirements: </p>

<p>When the Epipolar Stereo Pair is started, the <a href="../ilwismen/create_a_stereopair.htm">Create Stereo Pair</a> dialog box appears: </p>

<p class=emptylinehalf>&nbsp;</p>

<ul>

<li>Specify the left input map and the right input map; one of the maps may already have a georeference. </li>

<li>Specify the output name of the stereo pair that will be created. </li>

</ul>

<p class=defnewpar>The operation is designed to use as input: </p>

<ul>

<li>two scanned aerial photographs;</li> 

<li>the photographs should at least have 50% overlap with each other, </li>

        <p class=leftmargin06>(because the principal point of the left photograph must be visible in the right photograph and vice versa); </p>

<li>in each scanned photograph, at least 2 fiducial marks should be visible, </li>

        <p class=leftmargin06>(i.e. either 2 or more corner fiducial marks, or 2 or more fiducial marks in the middle along an edge of the photograph). </p>

</ul>

<p class=emptyline>&nbsp;</p>

<p class=tiptext><span class=tip>Tip: </span>The operation can also be used on satellite images with overlap (images from different angles), but then you have to <i>estimate</i> the position of rotation points (explained below). </p>

<p class=defnewpar>One or both of the input photographs/images may already use a georeference tiepoints, a georef direct linear, a georef orthophoto, or a georef parallel projective. However, the photographs/images may also use georef <span class=courier>None</span>. </p>

<p class=defnewpar>The input photographs/images may use the following domains, depending on how you wish to show the stereo pair later on: </p>

<ul>

<li>when you wish to view the stereo pair later on with a <a href="..//ilwisapp/popup/stereoscope_popup.htm" onClick="return popup(this, 'notes')" >stereoscope</a>, you can use input raster maps with the <span class=courier>Color</span> domain, the <span class=courier>Image</span> domain, or another value domain. </li>

<li>when you wish to view the stereo pair later on as an <a href="..//ilwisapp/popup/anaglyph_popup.htm" onClick="return popup(this, 'notes')" >anaglyph</a> later on, you can only use raster maps with the <span class=courier>Image</span> domain, or with another value domain. </li>

</ul>

<p class=tip></p>

<ul class=tipul>

<li>As scanned photographs/images may have a very large file size, it is advised to create <a href="../ilwis/ilwis_objects_raster_maps_pyramids.htm">Pyramid Layers</a> for both input raster maps. This will speed up display in the <a href="../ilwis/epipolar_stereopair_creation_window.htm">Epipolar Stereo Pair - Creation window</a>. </li>

<li>If one or both of the photographs/images was scanned in the wrong direction, you can use the <a href="..//ilwisapp/popup/mirror_rotate_popup.htm" onClick="return popup(this, 'notes')" >Mirror Rotate</a> operation before starting to create a stereo pair. </li>

<li>To convert a map with the <span class=courier>Color</span> domain to the <span class=courier>Image</span> domain, you can use the <a href="..//ilwisapp/popup/color_separation_popup.htm" onClick="return popup(this, 'notes')" >Color Separation</a> operation; choose option <span class=arial>Intensity</span>. See also <a href="../ilwis/how_to_change_the_domain_of_a_map.htm">How to change the domain of a map</a>. </li>

</ul>

<p class=kopje>Epipolar Stereo Pair - Creation window: </p>

<p>After the Create Stereo Pair dialog box, the <a href="../ilwis/epipolar_stereopair_creation_window.htm">Epipolar Stereo Pair - Creation window</a> will be opened. </p>

<p class=emptyline>&nbsp;</p>

<ul>

<li>Mark on each photograph two, three, or four fiducial marks. </li>

<li>Mark the calculated principal point of the left photograph, on the right photograph (transferred principal point). </li>

<li>Mark the principal point of the right photograph, on the left photograph (transferred principal point). </li>

<li>In case of scale differences between the two input maps, specify one or two scaling points in both photographs. </li>

</ul>

<p class=defnewpar>When using satelling images:</p>

<ul>

<li>Estimate the satellite ground track; it should run from left to right. </li>

<li>In the left image, mark a rotation point which lies on the ground track (as 'principal point'), and transfer this point to the right image (as 'transferred principal point'). </li>

<li>In the right image, mark a rotation point which lies on the ground track (as 'principal point') and which lies to the right of the transferred point from the left image. </li>

<p>Transfer the rotation point from the right image to the left image (as 'transferred principal point'). </p>

</ul>

<p class=kopje>Output stereo pair: </p>

<p>The <a href="..//ilwis/popup/object_dependent_data_objects_popup.htm" onClick="return popup(this, 'notes')" >dependent</a> output stereo pair will be defined and calculated when you close the Epipolar Stereo Pair - Creation window with the <span class=arial>Exit and Show</span> button <img src="../images/stereo_showcalc.gif" align=bottom width="22" height="22">: </p>

<p class=emptyline>&nbsp;</p>

<ul>

<li>Both input photographs are resampled to output raster maps. During resampling, the Bilinear interpolation method is used; for more information, see <a href="../ilwisapp/resample_algorithm.htm">Resample : algorithm</a>. </p></li>

<li>The two output raster maps will obtain the same name as the output stereo pair, followed by <span class=courier>_Left</span> and <span class=courier>_Right</span>. </li>

<li>The output maps will both obtain a new georeference of type scale_rotate. If one of the input maps already had a georeference, these coordinates will be retained in the output map. </li>

</ul>

<p class=defnewpar>Each input map is rotated along the vertical axis, so that the imaginary line between principal point and transferred principal point will be exactly horizontal in the output map. Furthermore, if the input photographs had scale differences and when scaling points were specified, resampling will also increase the input map with the least pixels to the size of the other input map with the most pixels. In the output maps, rotation differences along the vertical axis and possible scale differences between the input photographs will thus be removed. This means that in the two photographs the area of overlap can be viewed in stereo. See also the Additonal Info below. </p>

<p class=kopje>Showing the stereo pair:</p>

<p>A calculated stereo pair can be viewed: </p> 

<ul>

        <li>with a <a href="../ilwisapp/stereoscope.htm">stereoscope</a> in the <a href="../ilwis/stereopair_stereoscope_window.htm">Stereo Pair - Stereoscope window</a>: you can use a stereoscope that is mounted on your monitor, or</li>

        <li>as an <a href="../ilwisapp/anaglyph.htm">anaglyph</a> in a map window: you can use red-green or red-blue glasses. </li>

</ul>

<p class=defnewpar>You can screen digitize on the stereo pair: </p>

<ul>

<li>after you have added a georeference to one of the output maps (in case both input maps of the stereo pair used georeference <span class=courier>None</span>), </li>

<li>if one of the input maps already had a georeference, you can directly start screen digitizing. </p>

</ul>

<p class=emptyline>&nbsp;</p>

<p class=tiptext><span class=tip>Tip: </span>As the output maps of a stereo pair may have a very large file size, it is advised to create <a href="../ilwis/ilwis_objects_raster_maps_pyramids.htm">Pyramid Layers</a> for both output raster maps. This will speed up the display of the stereo pair both in the <a href="../ilwis/stereopair_stereoscope_window.htm">Stereo Pair - Stereoscope window</a> and in a map window.  </p>

<p class=kopje>Additional information:</p>

<p>The goal of making a photo pair epipolar is that after rotation around the principal points, the corresponding lines (rows) of the resampled images contain equal places in the terrain; they are only different due to different relief displacement caused by different viewing direction. The epipolar position of the two output images is after all a situation where, ideally, the parallax of terrain objects is only present in X-direction, i.e. along image rows. </p>

<p class=Seealso>See also:</p>

<p class=seealsolinks><a href="../ilwis/epipolar_stereopair_creation_window.htm">Epipolar Stereo Pair : Creation window</a></p>

<p class=seealsolinks><a href="stereoscope.htm">Show stereo pair with stereoscope</a></p>

<p class=seealsolinks><a href="../ilwis/stereopair_stereoscope_window.htm">Stereo Pair : Stereoscope window</a></p>

<p class=seealsolinks><a href="anaglyph.htm">Show stereo pair as anaglyph</a></p>

<p class=seealsolinks><a href="../ilwis/ilwis_objects_stereopairs.htm">ILWIS objects : stereo pairs</a></p>

</body